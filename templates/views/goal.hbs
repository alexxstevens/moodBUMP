<!DOCTYPE html>
<html lang="en">
	<!--<![endif]-->
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta charset="UTF-8" />
		<meta name="description" content="moodBUMP" />
		<meta name="keywords" content="HTML" />
		<meta name="author" content="Alex Stevens" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{{title}}</title>
		<!-- icons -->
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"
			integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp"
			crossorigin="anonymous"
		/>
		<!-- fonts-->
		<link
			href="https://fonts.googleapis.com/css2?family=Overpass:wght@200;400;900&display=swap"
			rel="stylesheet"
		/>
		<!--bootstrap-->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
			integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
			crossorigin="anonymous"
		/>
		<!--custom style-->
		<link href="/style/main.css" rel="stylesheet" />
		<!--jquery style-->
		<link
			rel="stylesheet"
			href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css"
		/>
		<!--jquery -->
		<script src="//code.jquery.com/jquery-1.12.4.js"></script>
		<script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<!--custom script-->
		<!--<script rel="text/javascript" src="../../src/goal_script.js"></script>-->
	</head>
	<body>
		{{>header}}
		
		<main>
			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<h3 class="heading">Goals:</h3>
				</div>
			</div>

			{{#unless goals}}
			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<div class="goals">
						<ul class="list-group">
							<!-- this page will display if goal DB empty-->
							<li class="list-group-item">
								<p id="subNote" class="white-bkgd">
									Add your first goal to get started!
								</p>
							</li>
						</ul>
					</div>
				</div>
			</div>
			{{/unless}}
				
			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<ul class="list-group">
						<!-- will populate from DB-->
						{{#each goals}}
						<li class="list-group-item">
							<p class="item">{{name}}</p>
							<div class="dropdown">
								<div id="myDropdown" class="dropdown-content">
									<a class="clr_underline">Unassign</a>
									<a class="clr_underline inactive">Delete</a>
								</div>
							</div>
							<span class="icon"
								><button id="dropbtn" class="container dropbtn">
									<i id="dropnbtn_2" class="fas fa-ellipsis-h"></i></button
							></span>
						</li>
						{{/each}}
					</ul>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<h3 class="heading">Quick Add:</h3>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<ul class="list-group">
						{{#each inactive_goals}}
						<li class="list-group-item">
							<p class="item">{{name}}</p>
							<span class="icon">
									<button class="container adjust">
										<i class="fas fa-plus-circle fa-sm"></i></button
								></span>
							</p>
						</li>
						{{/each}}
					</ul>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-10 col-md-8 center-block">
					<a class="clr_underline" href="/customGoal">
						<button class="btn btn-primary btn-lg btn-block">
							Add a Custom Goal
						</button>
					</a>
				</div>
			</div>
		</main>

		{{>footer}}
		


		<script>
			"use strict"; //
			//CLICK EVENT
			document.getElementById("dropbtn").addEventListener("click", myFunction);
			//TOGGLE SHOW CLASS TO VIEW DROPDOWN
			function myFunction() {
				document.getElementById("myDropdown").classList.toggle("show");
			}
			//CLOSE DROPDOWN IF CLICK OUTSIDE
			$(document).on("click", function (event) {
				if (!event.target.matches(".dropbtn")) {
					let dropdowns = document.getElementsByClassName("dropdown-content");
					let i;
					for (i = 0; i < dropdowns.length; i++) {
						let openDropdown = dropdowns[i];
						if (openDropdown.classList.contains("show")) {
							openDropdown.classList.remove("show");
						}
					}
				}
			});
		</script>
	</body>
</html>
